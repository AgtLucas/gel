<!doctype html>
<html lang="en" class="b-pw-1280 b-reith-sans-font b-reith-serif-font no-js">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/gef-docs/static/images/favicon.ico" type="image/x-icon">

    <title>GEF | Search</title>

    <script src="/gef-docs/static/js/site.js"></script>

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    <link rel="stylesheet" type="text/css" href="/gef-docs/static/css/gef.css">
    <link rel="stylesheet" type="text/css" href="/gef-docs/static/css/site.css">

    <script type="text/javascript"> // feature detects
        document.documentElement.className = document.documentElement.className.replace(' no-js', ' js');
        document.documentElement.className += (' ' + ('ontouchstart' in document.documentElement ? 'touch' : 'no-touch'));
        document.documentElement.className += (' ' + ('flexWrap' in document.documentElement.style ? 'flex' : 'no-flex'));
        document.documentElement.className += (' ' + ((document.createElementNS && 'createSVGRect' in document.createElementNS('http://www.w3.org/2000/svg', 'svg')) ? 'svg' : 'no-svg'));
    </script>

    <script type="text/javascript">
        try {
            (new FontFaceObserver('ReithSans', 5000)).load().then(function () {
                document.documentElement.className += ' b-reith-sans-loaded';
            });
            (new FontFaceObserver('ReithSerif', 5000)).load().then(function () {
                document.documentElement.className += ' b-reith-loaded';
            });
        } catch (e) {
            console.log('Reith fonts did not load within 5 seconds.');
        }
    </script>

    <script type="text/javascript">
        // syntax highlight
        hljs.initHighlightingOnLoad();
    </script>

    
</head>

<body class="gefdocs-body">
    <p class="gef-sr gef-sr__focusable gef-sr__overlay" tabindex="0">
        <a href="#main" onfocus="this.parentNode.classList.add('gef-sr__focused')" onblur="this.parentNode.classList.remove('gef-sr__focused')">Skip
            to content</a>
    </p>

    <header>
        <div class="gefdocs-header gs-u-clearfix">
            <div class="gel-wrap">
                <a href="http://www.bbc.co.uk/"><svg aria-label="BBC GEL Logo" width="100" height="24" viewBox="0 0 100 24">
                        <title>BBC</title>
                        <image xlink:href="/gef-docs/static/images/bbc-blocks_grey.svg" src="/gef-docs/static/images/bbc-blocks_grey.png"
                            width="100%" height="100%"></image>
                    </svg></a>
            </div>
        </div>
        <div class="gefdocs-header__banner gs-u-clearfix">
            <div class="gel-wrap">
                <div class="gel-layout">
                    <div class="gel-layout__item gel-2/5@l" style="text-align:left; padding-left:14px; margin-bottom:32px;">
                        <a href="/gef-docs/" class="gefdocs-logo">GEF</a>
                    </div>
                    <div class="gel-layout__item gel-2/5@l gel-pull__right@l" style="margin-bottom: 16px;">
                        <a class="gefdocs-button gefdocs-button--dark gel-long-primer-bold" href="https://www.bbc.co.uk/gel/guidelines/local-search">
                            Go to BBC GEL
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main id="main" tabindex="-1" class="gel-wrap gs-u-clearfix">
        <div class="gel-layout">
            <div class="gel-layout__item gel-1/5@l">
                <!-- column placeholder-->
            </div>

            <div class="gel-layout__item gel-2/5@l" style="padding-right: 12px;">
                <h1 class="gefdocs-header__title">Search</h1>
                <p class="gefdocs-header__summary gel-great-primer">Share tools offer unobtrusive options to share BBC content on social media</p>
            </div>

            <div class="gel-layout__item gel-1/5@l">
                <dl class="gefdocs-standout-box">
                    
                    <dt>Version:</dt>
                    <dd>0.1.0</dd>
                    
                    <dt>Status:</dt>
                    <dd>Draft</dd>
                    <dt>Accessibility:</dt>
                    <dd>Pending</dd>
                </dl>
            </div>
        </div>

        <div class="gel-layout">
            <div class="gel-layout__item gel-1/5@l">
                <nav role="navigation" id="side-nav" class="gel-side-nav sticky" data-sticky-for="900" style="padding-top:32px">
                    <div class="gel-pica gs-u-mb gs-u-mt0">Contents</div>
                    <ol id="gefdocs-toc__links" class="gefdocs-toc"><li><a href="#introduction">Introduction</a></li><li><a href="#recommended-markup">Recommended markup</a></li><li><a href="#recommended-layout">Recommended layout</a></li><li><a href="#recommended-behaviour">Recommended behaviour</a></li><li><a href="#reference-implementation">Reference implementation</a></li><li><a href="#related-research">Related research</a></li></ol>
                </nav>
            </div>

            <div class="gefdocs-sections gefdocs-body-copy gel-layout__item gel-3/5@l">
                <h2 id="introduction">Introduction</h2>
<h2 id="recommended-markup">Recommended markup</h2>
<p>Whether local or global, the search must be marked up as a <code>role=&quot;search&quot;</code> landmark, making it available to screen reader shortcuts. The <code>role=&quot;search&quot;</code> attribution must not be placed on the form, but instead on a wrapping element<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>. ARIA roles suppress implicit roles, and remove their associated behaviors. Screen readers should still be able to identify the form as a form.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-search"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"search"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-search-controls"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- search functionality here --&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p>The search region is composed of two main parts: the search controls (<code>class=&quot;gef-search-controls&quot;</code>), and the search suggestions (<code>class=&quot;gef-search-suggestions&quot;</code>).</p>
<h3 id="search-controls">Search controls</h3>
<p>The following example is for a global search region. It would be revealed by pressing a button in the page's <a href="../masthead"><strong>Masthead</strong></a>, and includes a close button to dismiss it again. SVG data is elided. There are notes to follow.</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-search-controls"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"get"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"https://search.bbc.co.uk/search"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"search"</span> <span class="hljs-attr">hidden</span>&gt;</span>Search the BBC<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"search"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"search"</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">"off"</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-sr"</span>&gt;</span>Search<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gel-icon gel-icon--text"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"false"</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-search-close"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-sr"</span>&gt;</span>Close<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">svg</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gel-icon gel-icon--text"</span> <span class="hljs-attr">focusable</span>=<span class="hljs-string">"false"</span>&gt;</span>
      ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">svg</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</code></pre>
<ul>
<li><strong>&quot;Search the BBC&quot;:</strong> Because this is a global search region, the label for the search input simply reads <em>&quot;Search the BBC&quot;</em>. This text is <code>hidden</code> but associated with the input, and available to screen readers, by making the <code>&lt;label&gt;</code>'s <code>for</code> attribute and the input's <code>id</code> share a value.</li>
<li><strong>Buttons:</strong> Each button uses the native button element. The close button takes <code>type=&quot;button&quot;</code> to differentiate it from a submit button and prevent it from erroneously submitting the form<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>.</li>
<li><strong>SVG:</strong> Each SVG must take <code>focusable=&quot;false&quot;</code> and <code>aria-hidden=&quot;true&quot;</code> to ensure it is unavailable to assistive technologies and not focusable by keyboard</li>
</ul>
<p>A local search region differs in three ways:</p>
<ul>
<li>A logo is included for branding purposes</li>
<li>The input label reads <em>&quot;Search BBC [site name]&quot;</em> (a non-visual equivalent of the logo)</li>
<li>The close button is omitted, since local search is a permanent fixture, placed under the masthead</li>
</ul>
<p>See the <a href="../demos/local-search">local search reference implementation</a>.</p>
<h3 id="search-suggestions">Search suggestions</h3>
<p>Where available, typing into the search input populates a region below the search controls with suggested links. This region looks like the following in its initial state (with notes to follow):</p>
<pre class="hljs"><code><span class="hljs-tag">&lt;<span class="hljs-name">aside</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-search-suggestions"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Search suggestions"</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">hidden</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-search-suggestions-label"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"status"</span> <span class="hljs-attr">aria-live</span>=<span class="hljs-string">"polite"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"gef-search-suggestions-links"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">aside</span>&gt;</span>
</code></pre>
<ul>
<li><strong><code>&amp;lt;aside&gt;</code>:</strong> The suggestions region is provided as a complementary landmark. This makes it easy to locate using screen reader software (while it is available) and allows for the descriptive label: <em>&quot;Search suggestions&quot;</em>. When a screen reader user enters the region and focuses a suggestion link they will hear something similar to, <em>&quot;search suggestions, complementary region, list of 5 items, first item, [item text], link&quot;</em> (where 5 suggestions are available and presented in a list — which is recommended).</li>
<li><strong><code>aria-hidden=&quot;true&quot;</code> and <code>hidden</code>:</strong> In the initial state, the region is not visible, on account of having zero height and <code>overflow: hidden</code> (see the <a href="#recommended-layout"><strong>Recommended layout</strong></a> section. To achieve parity for screen reader users, <code>aria-hidden=&quot;true&quot;</code> 'hides' the region from their software. The <code>hidden</code> property hides the region unless JavaScript (upon which it depends) runs and can remove it.</li>
<li><strong><code>role=&quot;status&quot;</code>:</strong> When suggestions become available, screen reader users should be informed — and without stealing their focus. A live region is populated with text following the template <em>&quot;We have [n] suggestions for you&lt;span class=&quot;gef-sr&quot;&gt;, please find them below&lt;/span&gt;:&quot;</em>. The <em>&quot;please find them below&quot;</em> portion is only helpful non-visually, so is visually hidden using the <code>.gef-sr</code> class. The <code>aria-live=&quot;polite&quot;</code> attribution is equivalent to <code>role=&quot;status&quot;</code>. Some browsers only support one of the two, so this maximizes compatibility.</li>
<li><strong><code>.gef-search-suggestions-links</code>:</strong> A function provided by the developer would be used to populate lists of suggestions (see the <a href="#reference-implementation"><strong>Reference implementations</strong></a>)</li>
</ul>
<h2 id="recommended-layout">Recommended layout</h2>
<p>The search region itself uses Flexbox to bring its items inline. The input is allowed to grow and shrink, helping the component support a range of viewport widths.</p>
<pre class="hljs"><code><span class="hljs-selector-class">.gef-search-controls</span> {
  <span class="hljs-attribute">display</span>: flex;
  <span class="hljs-attribute">align-items</span>: center;
}

<span class="hljs-selector-class">.gef-search-controls</span> &gt; <span class="hljs-selector-tag">input</span> {
  <span class="hljs-attribute">flex-grow</span>: <span class="hljs-number">1</span>;
  <span class="hljs-attribute">min-width</span>: <span class="hljs-number">0</span>;
}
</code></pre>
<h3 id="focus-styles">Focus styles</h3>
<p>Strong—not just default—focus styles are recommended. In the <a href="#reference-implementation"><strong>Reference implementations</strong></a>, a solid <code>outline</code> is employed, with a negative <code>outline-offset</code> to bring the outline inside the input and button boxes:</p>
<pre class="hljs"><code><span class="hljs-selector-class">.gef-search-controls</span> &gt; <span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:focus</span>,
<span class="hljs-selector-class">.gef-search-controls</span> &gt; <span class="hljs-selector-tag">button</span><span class="hljs-selector-pseudo">:focus</span> {
  <span class="hljs-attribute">outline</span>: <span class="hljs-number">2px</span> solid;
  <span class="hljs-attribute">outline-offset</span>: -<span class="hljs-number">2px</span>;
}
</code></pre>
<h2 id="recommended-behaviour">Recommended behaviour</h2>
<p>Here is the basic workflow for using search, with actions/behaviours specific to global search marked as such:</p>
<ol>
<li>Click the search button in the <a href="../masthead"><strong>Masthead</strong></a> → the search region is revealed and the search input is focused. (<em>global search only</em>)</li>
<li>Type inside the search field → If suggestions are available, they populate the suggestions region, and it is revealed. For screen reader users, the presence of suggestions (and the number available) is announced.</li>
<li>Click on the submit button → The user is taken to the search page (<a href="https://search.bbc.co.uk/search">https://search.bbc.co.uk/search</a>)</li>
<li>Click on a suggestion → The user is taken to that suggestion's permalink</li>
<li>Click on the close ('X') button → the search region is hidden and the Masthead's search button is regains keyboard focus (<em>global search only</em>)</li>
</ol>
<h3 id="animating-the-suggestions-region">Animating the suggestions region</h3>
<p>The animation (sliding up and down) of the suggestions region uses JavaScript, not just CSS. This is because you cannot animate to an <code>auto</code> height, and the height of the region—including the dynamic suggestions content—cannot be known ahead of time. Instead, the <code>scrollHeight</code> of the region must be determined and that height made the 'target' for the animation end. Importantly, the function that populates the suggestions <em>must be executed before the animation function</em>. Otherwise the target height will be incorrect.</p>
<p>Here is the entire process:</p>
<pre class="hljs"><code><span class="hljs-comment">// Use the supplied function to populate the suggestions</span>
buildFunction(<span class="hljs-keyword">this</span>);
<span class="hljs-comment">// Set `aria-hidden` to `false` so:</span>
<span class="hljs-comment">// (a) the live region will announce</span>
<span class="hljs-comment">// (b) the suggestions will be available to screen readers</span>
<span class="hljs-keyword">this</span>.suggestions.setAttribute(<span class="hljs-string">'aria-hidden'</span>, <span class="hljs-string">'false'</span>);
<span class="hljs-comment">// Now safely populate the live region</span>
<span class="hljs-keyword">this</span>.suggestionsLabel.innerHTML = <span class="hljs-string">'We have &lt;span class="search-suggestion-count"&gt;'</span> + <span class="hljs-keyword">this</span>.suggestionsLinks.querySelector(<span class="hljs-string">'a'</span>).length + <span class="hljs-string">'&lt;/span&gt; suggestions for you&lt;span class="gef-sr"&gt;, please find them below&lt;/span&gt;:'</span>
<span class="hljs-comment">// Finally, animate the region into view</span>
<span class="hljs-keyword">this</span>.showSuggestions();
</code></pre>
<h2 id="reference-implementation">Reference implementation</h2>

            <aside class="gefdocs-breakout-box gefdocs-breakout-box extra-padding" aria-labelledby="aside-alert-important">
              <h4 id="aside-alert-important" aria-hidden="true"><svg class="gefdocs-breakout-box__icon gefdocs-icon gefdocs-icon--text"><use xlink:href="/gef-docs/static/images/gel-icons-core-set.svg#gel-icon-alert" style="fill:#404040;"></use></svg>Important</h4><div><p>Reference implementations are intended to demonstrate <strong>what needs to be achieved</strong>, but not necessarily how to achieve it. That would depend on the technology stack you are working with. The HTML semantics, layout, and behaviour of your implementation must conform to the reference implementation. Your JS framework, CSS methodology, and—most likely—content will differ.</p>
</aside><h2 id="related-research">Related research</h2>
<p>This topic does not yet have any related research available.</p>
<h3 id="further-reading-elsewhere-on-the-web">Further reading, elsewhere on the Web</h3>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>Where To Put Your Search Role — Adrian Roselli, <a href="http://adrianroselli.com/2015/08/where-to-put-your-search-role.html">http://adrianroselli.com/2015/08/where-to-put-your-search-role.html</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>Why it's important to give your HTML button a type — <a href="http://dev.to">dev.to</a> (Claire Parker), <a href="https://dev.to/claireparkerjones/why-its-important-to-give-your-html-button-a-type-58k9">https://dev.to/claireparkerjones/why-its-important-to-give-your-html-button-a-type-58k9</a> <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>


                <aside class="gefdocs-breakout-box gefdocs-breakout-box extra-padding" aria-labelledby="aside-info-Could-you-improve-this-documentation">
                    <h4 id="aside-info-Could-you-improve-this-documentation" aria-hidden="true">
                        <svg class="gefdocs-breakout-box__icon gefdocs-icon gefdocs-icon--text">
                            <use xlink:href="/gef-docs/static/images/gel-icons-core-set.svg#gel-icon-info" style="fill:#404040;"></use>
                        </svg>Could you improve this documentation?
                    </h4>
                    <div>
                        <p>
                            If you think you could make anything you see here a bit better then become one of <a href="/gef-docs/contributors/">our
                                lovely contributors</a>!
                        </p>
                    </div>
                </aside>

            </div>
        </div>
    </main>

    <div class="gefdocs-feedback-banner">
        <div class="gel-wrap">
            <div class="gel-layout">
                <div class="gel-layout__item gel-2/3@l gel-3/5@xl">
                    <h2 class="gefdocs-feedback-banner__title">Got a minute?</h2>
                    <p>We'd love to know what you think of the Code GEL website.</p>
                    <a href="https://www.smartsurvey.co.uk/s/gel-website-feedback/" class="gefdocs-button gefdocs-button__link-button gefdocs-feedback-banner__cta gefdocs-button--primary">
                        <span class="gefdocs-button__content">Go to survey</span>
                        <span class="gefdocs-button__icon_wrapper">
                            <svg class="gefdocs-button__icon gefdocs-icon gefdocs-icon--text">
                                <use xlink:href="/gef-docs/static/images/gel-icons-core-set.svg#gel-icon-external-link"
                                    style="fill:undefined;"></use>
                            </svg>
                        </span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script nomodule defer type="text/javascript" src="/gef-docs/static/js/external-svg-polyfill.js"></script>
    <script type="text/javascript" src="/gef-docs/static/js/gef.js"></script>

    

    <script type="text/javascript">
        new Sticky('.sticky');
    </script>
</body>

</html>